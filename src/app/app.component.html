<div class="container mt-5 custom-border">
	<div class="row justify-content-center">
		<div class="col-2">
		</div>
		<div class="col text-center">
			<h3>TO DO LIST</h3>
			<form [formGroup]="form" class="text-center">
			<div formArrayName="todos" cdkDropList (cdkDropListDropped)="drop($event)" >

				<div *ngFor="let todo of todos.controls; let i = index" [formGroupName]="i" class="row mb-2 align-items-center">
					<div class="col-12">
						<mat-form-field *ngIf="todo.get('editable')?.value" class="w-100">
							<input #inputField matInput formControlName="text" (blur)="toggleInput(todo, i)" (keydown.enter)="onEnter($event)" [ngClass]="{'completed': todo.get('completed')?.value}">
						</mat-form-field>
					</div>
					<div class="col-12" cdkDrag>
						<div class="d-flex align-items-center">
							<mat-checkbox *ngIf="!todo.get('editable')?.value" formControlName="completed"></mat-checkbox>
							<p (click)="toggleInput(todo, i)" *ngIf="!todo.get('editable')?.value" class="mt-2" [ngClass]="{'completed': todo.get('completed')?.value}">
								{{todo.get('text')?.value}}
							</p>
						</div>
					</div>
				</div>
				
			</div>
			</form>
		</div>
		<div class="col-2">
		</div>
	</div>
	<div class="row">
		<div class="col-2">
		</div>
		<div class="col justify-content-center">
			<button mat-button type="button" (click)="addItem(todos.length-1)" class="w-100">
				Adicionar
				<mat-icon>add</mat-icon>
			</button>
		</div>
		<div class="col-2">

		</div>
		
	</div>
</div>